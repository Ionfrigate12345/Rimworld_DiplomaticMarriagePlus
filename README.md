English and French versions will follow
Les versions anglaises et françaises suivront.


# 注意

此Readme可能不是最新版本。最新说明请参考Steam创意工坊页面。

https://steamcommunity.com/sharedfiles/filedetails/?id=3222768517


# 描述

外交婚姻与永久联盟，或称为外交婚姻增强版（DMP），我的灵感主要来源于Paradox游戏《十字军之王》，以及模组《更多派系互动（MFI）》中的外交婚姻事件，这也是我称该模组为外交婚姻“增强版”的原因。


# 主要功能：

- 把你殖民地文化领袖的其中一个子女和一个原版的同盟阵营联姻，形成永久联盟（PA）。姻亲同盟的好感度每天都会迅速增加，除非你做严重影响外交关系的事情，不然通常都会锁定在100（前提是你的子女有足够的社交技能）。

- 你可以用近乎无限的好感来刷同盟阵营的商队，军事增援等，但你也需要努力维持姻亲联盟，和CK的联盟类似，包括保护这对夫妇的安全，或避免更换文化领袖等。注意多数情况下这对夫妇不是受你控制的殖民者，所以要做到这点并不容易。


# 如何开始

你不能主动提出联姻，你需要满足条件后等待你的盟友提出。

- 你的殖民地必须有文化领袖
- 你的文化领袖必须有一个成年、未婚的孩子。仅限直系后代。侄子或孙子都不算。（这个和CK也类似）
- 至少有一个NPC盟友派系的好感度>=75

在满足所有条件后，NPC盟友会随机提出。由于上述条件已经比较难达成，因此我给该事件设置了很高的概率，通常不需要等太久。


# 姻亲同盟之后？

- 与盟友派系的每日好感度增加
- 随机将整个盟友派系转变为你的文化
- 如果你安装了边缘城市（Rimcities），姻亲同盟可能会随机拉你去联合攻击或联合防御大城市。
- 如果你安装了物资申请（A Petition For Provisions)，你可以向姻亲同盟请求你需要的物资。
- 商队避难：夫妇二人可能会在同盟的商队中躲到你的基地躲避袭击。
- 思乡病：你的孩子可能会想念父母，作为你的临时殖民者回来。这一事件主要目的不只是代入感而已，而是给你机会给他们各种装备，植入物和异种基因，降低他们以后的战斗中挂掉的概率。

后面版本会添加更多婚后事件


# 与其他模组的潜在互动

该模组应与大多数模组兼容。但由于这对关键夫妇不在你的地图时，也算为你的姻亲同盟阵营的世界人物池里的小人，因此可能会改变一些其它模组的原定玩法。

简而言之，其他一些模组，甚至原版都可能会把他们当成另一个派系的小人生成到你的地图。而且无论他们是怎么来的，只要出现在地图上，你就需要保护他们来维持姻亲同盟。


# 举例

- 原版：如果你滥用几乎无穷的好感度来刷姻亲同盟的援军，别忘了这对关键夫妇也可能出现在援军中。这是原版世界池自己的机制，我的模组无法控制。

- 派系战争：你不再只是作者所说的“旁观者”。两波NPC在你的基地门外掐架时，如果其中一方是你的姻亲盟友，而你的孩子或孩子的配偶恰好在他们的军队中，你最好想办法迅速干预。

- 动态外交：建议关闭战斗模拟，因为这对夫妇可能会卷入离得很远的位置的一些战斗，而你通常来不及救他们。此外，即使你的孩子成功转化了姻亲同盟的文化，该模组的NPC阵营随机文化改变也可能把他们再转化掉，需要你的孩子反复转化。

- 访客接待：如果你邀请你的永久盟友派系，这对夫妇可能会作为客人出现。记得不要招募他们。不止对该模组，任何时候都绝对不要尝试自行更改他们的派系。本模组有代码会强制检测并纠正他们的派系，但最好不要完全依赖它。

- VE文化拓展：该模组的一些模因，如工匠文化（Crafting Culture）会强制改变你的文化领袖，在本模组的环境下可能会直接崩掉你的姻亲同盟，因为维持姻亲同盟的其中一个条件就是要求你的文化领袖必须是联姻小人的父亲或母亲。

- 闪耀毁灭者4 & VE机械拓展：玩这些模组时特别注意，因为机械族强的太过变态（特别是闪毁4），任何有机械族在场的战斗都要小心别波及那对夫妇，甚至包括你自己的机械在内的友伤都可能让他们直接被秒杀。

总之，由于你在别的派系也有需要操心的人物，该模组可以根据你的模组列表提供无限的新玩法。


# 联动模组

- 边缘城市（Rimcities）：在安装了该模组的情况下，你的姻亲同盟会给你特殊版的城市攻击和防御任务。你可以帮助你的姻亲同盟征服世界。另外如果开了动态外交的全球联盟事件针对你的姻亲同盟和你自己的阵营，姻亲同盟会更频繁地要求你救援他们的大城市。

- 物资申请（A Petition For Provisions)：该模组原版只要非敌对阵营都能物资申请，而且价格还非常便宜（似乎是无视叙事者难度设定的），太过正义。本模组在和该模组联动时，物品请求改为仅限于姻亲同盟提供的特权，别的派系都会拒绝。另外CD时间也大大延长了，通常长达几十天，最短和该模组原版一样3天，具体取决于姻亲同盟的据点占全球据点的百分比。详见模组设置中的提示。

- 动态外交：DMP特别版本的动态外交军事联盟对抗你的PA派系和你，如果你的PA派系变得太强大。到那时，你和你的PA将需要与全世界对抗。详见模组配置选项中的工具提示。建议和另一个模组“联合袭击”一起玩，这样包围网的敌人阵营也会联合袭击你的基地。

这三个模组同时联动时，可以形成一个有意思的特殊玩法--帮助你的姻亲同盟征服世界，一起手撕全世界其它派系组成的包围网，而你的姻亲同盟越强大，你也可以越频繁地使用物资申请模组的正义功能作为回报。


# 其他兼容模组

- SOS2：本模组能识别SOS2太空地图，并阻止一些不适合在太空出现的事件和人物出现在SOS2的太空地图（如盟友商队）。因此你的孩子/孩子的配偶不会在没有EVA装备的情况下突然出现在太空中送死。但注意如果你使用了其他不兼容SOS2的类似模组，它们依然可能把你的联姻夫妇刷出到太空图上。请查阅SOS2页面的兼容模组列表。

- Rimnauts 2：月球和小行星之类的天体地图也会被识别为SOS2太空地图。

- VE事件拓展：本模组的事件的发生几率都可以在VEE中调整。


# 不兼容模组

- 更好的关系值（Better Relation Value)：本模组涉及许多阵营关系的变化，都有固定的期待值，不应该被其他模组随意更改。

- EdB精心准备：此模组在模组开发者社区中有些恶名，因为它对原版小人生成器的破坏性代码修改。这种修改对本模组有严重的影响。比如趁着你的孩子/孩子配偶回来暂住期间，你给他们辛苦配备了传奇级神装衣服盔甲，但只要他们一离开地图回归世界池后，下次再出现就会因为该模组的影响而导致衣服盔甲全被重刷了，使得思乡病和暂住的作用大减（根据我自己的测试，该模组似乎不会重刷武器，只刷盔甲衣服，但也够严重了）


# DLC要求：

- 文化：必需的DLC。该模组从头到尾都默认你的文化领袖为殖民地领袖（不然玩家殖民地其实没有领袖）。注意文化功能开局时必须开启，不兼容经典模式。

- 生物：不是必须的，但强烈推荐一起开。培育舱能让你在合理的时间内培养一个社交技能足够适合送去联姻的孩子。还有一些异种基因如不死不老之类的也非常适合用来保护那对关键夫妇。（想象下CK2中不朽特性有多牛）。



(English)


#IMPORTANT

This Readme might not be the most up to date. Check Steam workshop page for the latest info.

https://steamcommunity.com/sharedfiles/filedetails/?id=3222768517


# Description

Diplomatic Marriage & Permanent Alliance, or Diplomatic Marriage Plus (DMP), is heavily inspired by Paradox game Crusader Kings, and by Diplomatic Marriage event in the mod More Faction Interactions as a starting point, which is also why I call this mod Diplomatic Marriage "Plus".
		
# Features:  

- You can now form a permanent alliance(PA) by marrying off one of the child of your colony ideology leader to one of your vanilla ally. PA goodwill will quickly increase each day, usually be locked to 100 (if your child has high social skill) unless you really do something terrible. 

- While enjoying benefits like endless caravan or military reinforcement, you need to work hard to keep the union, such as keeping the couple safe or avoid changing ideology leader, just like how it often works in CK alliance. WARNING: In most time the couple are not your pawns so it wont be so easy.


# How to start 

You can't start the proposal volunteerly, you need to meet the condition then wait your ally to do so.

- Your colony must have ideology leader
- Your ideology leader must have an adult, unmarried child. DIRECT DESCENDENT only. Nephew or grandchildren do not count. (BTW this is also how alliance mostly works in CK)
- You need to have at least one NPC ally faction with goodwill >= 75

After all conditions met, NPC ally will propose randomly. Since the conditions are already hard enough, I set the event chance pretty high so that you wont wait for long.


# What happens after PA? 

- Daily goodwill increase with the ally faction
- Randomly convert the entire ally faction to your ideology
- PA may randomly send you Rimcities quests if you have it installed, such as joint attack a large city.
- You can request items of your choice to your PA, if you have A Petition For Provitions installed.
- Caravan Refuge: PA together with the couple may seek refuge in your colony for raiders are behind them.
- Homesick: Your child may miss their parents and come back as your temporary pawns. This event is mostly for giving you an opportunity to give them equipments and xenogenes so that they wont die easily in future battles.

More post-marriage events will be added in the future.


# Potential Interaction with other mods 

This mod shall work with most mods. But since the key couple is considered as world pawns of your ally NPC faction, it may change abit the gameplay of other mods.

In a simple word, some other mods or even Vanilla may also spawn them on your map as world pawns from another faction. But whatever the reason, you need to protect them to keep the PA.


# Example of mods having playstyle impacted by DMP

- Vanilla: If you abuse the nearly endless goodwill of your ally to call for military help on some hard raids, you may put the couple in danger for they are likely to appear in the reinforcement.

- Factional War: You are no longer just a "bystander" like the author says. When your permanent ally is involved in the war and your child or child-in-law happen to be in their army, you'd better think of a quick intervention. 

- Dynamic Diplomacy: it's recommended to turn off battle simulation for the couple may be involved in a battle faraway making you unable to save them. Also other NPC factions may randomly convert your PA to other ideologies even after your child successfully convert them.

- Hospitality: The couple may appear as guests if you invite your permanent allied faction. It should be fine but DO NOT RECRUTE THEM. Same for any similar mod, or even vanilla and dev mode, in no way you shall attempt to change their faction on your own. There is a script to detect and correct their faction by force, but better not fully rely on it.

- VE Ideology: Some memes like Crafting Culture may force unwanted leader. It may be a challenge with DMP for changing ideology leader other than parents will break the PA.

- Glitterworld Destroyer 4 & VE - Mechanoids: Mechs are insanely powerful in these mods, especially GD4. So watch out if the couple are present in a fight involving mechs, including your own ones (I mean friendly fire).

By having someone in another faction that you need to worry about, there are endless possibilities of new playstyles DMP can offer, depending on your mod list. 


# Collaborated mods 

- Rimcities: PA will give you their own version of some Rimcities quests like city assault and defense. You can help PA to conquer the world. If your PA is targeted by the special variant of Dynamic Diplomacy global alliance, they will ask you much more often to defend their large cities.

- A Petition For Provisions: Items request becomes a privilege exclusively for PA and comes with CD depending on their power (percentage of global settlements).  See tooltip in mod config option for more info.

- Dynamic Diplomacy: A DMP special version of Dynamic Diplomacy military alliance against your PA faction AND you, if your PA faction grows too powerful. You and your PA will need to fight against the whole world at this point. See tooltip in mod config option for more info. Recommended to play with MulitiRaid 联合袭击 for more challenge so that the great alliance may be united to raid you as well.


# Other compatible mods 

- SOS2: My script identifies SOS2 space maps and prevent all inappropriate events of this mod (like ally caravan or temporary stay) from firing there, so that you wont see your child/child-in-law spawn and die in space without EVA suits. However if you use other pawn spawning mods non compatible with SOS2, this issue may still happen. Plz check SOS2 page for compatible mod list.

- Rimnauts 2: Celestial bodies maps are also considered as SOS2 space maps. 

- VE Events: All incidents of DMP can have their chances adjusted in VEE mod configs.


# Incompatible mods 

- Better Relationship Value: This mod causes issues for DMP has alot of relation changes with expected values, which are not supposed to be altered by other mods.

- EdB Prepare Carefully: This mod is known of destructive coding on pawns generator in modders community, with DMP it may reroll suits worn on your child/child in law while they are outside of colony maps, which makes pointless to equip them with the best clothing or armors for future survival because all of them will be lost the next time they appear.


# Requirement of DLC: 

- Ideology: Required. The mod takes Ideology leader as your colony leader. Ideologies need to be activated at game start. Incompatible with Classic Mode.

- Biotech: Not a must-have but recommended for growth vat which help to raise a skillful child much faster. Xenogenes like Deathless and Ageless are also helpful to keep them alive to ensure the PA (Remember the power of Immortal trait in CK2).





(Français)


#IMPORTANT

Ce Readme n'est peut-être pas à jour. Consultez ma page du Steam Workshop pour plus d'info.

https://steamcommunity.com/sharedfiles/filedetails/?id=3222768517


# Description

Diplomatic Marriage & Permanent Alliance, ou Diplomatic Marriage Plus (DMP), est fortement inspiré par le jeu Paradox, Crusader Kings, et aussi par l'événement Diplomatic Marriage dans le mod More Faction Interactions comme point de départ, c'est pourquoi j'appelle également ce mod Diplomatic Marriage "Plus".


# Fonctionnalités :

- Vous pouvez désormais former une alliance permanente (AP) en mariant l'un des enfants du leader de l'idéologie de votre colonie à l'un de vos alliés vanilla. La relation augmentera rapidement chaque jour, généralement verrouillée à 100 (pourvu assez de compétences sociales)... sauf si vous faites quelque chose de vraiment terrible, bien sûr.

- Avec une relation quasiment illimitée, vous pouvez abuser leurs caravanes ou renforts militaires, mais vous devez travailler fort pour maintenir l'union, comme garder le couple en sécurité ou éviter de changer le leader de l'idéologie, tout semblable à l'alliance dans CK.  Attention : ce ne sera pas si facile la plupart du temps, car le couple n'est pas vos propres colonistes.


# Démarches

Vous ne pouvez pas commencer la proposition volontairement, vous devez remplir les conditions puis attendre que votre allié le fasse.

- Votre colonie doit avoir un leader idéologique
- Votre leader idéologique doit avoir un enfant adulte, non marié. qui est un DESCENDANT DIRECT. Càd, les neveux ou petits-enfants ne comptent pas. (C'est aussi comme ça que les alliances fonctionnent la plupart du temps dans CK)
- Vous devez avoir au moins une faction alliée avec la relation >= 75

Après avoir rempli toutes les conditions, l'allié NPC proposera aléatoirement. Comme les conditions sont déjà assez difficiles, j'ai mis la probabilité de l'événement assez élevée afin d'éviter de temps d'attente trop désraisonable.


# Que se passe-t-il après l'AP ?

- Augmentation quotidienne de la relation avec la faction alliée
- Convertir aléatoirement toute la faction alliée à votre idéologie
- L'AP peut vous envoyer aléatoirement des quêtes Rimcities si vous avez installée ce mod, telles que l'attaque ou la défense conjointe d'une grande ville.
- Vous pouvez faire la demande d'objets divers auprès de votre AP, si vous avez installé le mod A Petition For Provisions.
- Refuge de la caravane : La PA avec le couple peut chercher refuge dans votre colonie car les raiders les poursuivent.
- La nostalgie : Votre enfant peut manquer ses parents et revenir en tant que vos colonistes temporaires. Cet événement est principalement pour vous donner une opportunité de leur donner des équipements et des xénogènes afin qu'ils ne meurent pas facilement dans les futures batailles.

Plus d'événements post-mariage seront ajoutés à l'avenir.


# Interaction potentielle avec d'autres mods

Ce mod devrait bien marcher avec la plupart des mods. Mais comme le couple est considéré comme des colonistes mondiaux de votre faction AP, cela peut légèrement changer le gameplay d'autres mods.

En termes simples, certains autres mods ou même Vanilla peuvent également les faire apparaître sur votre carte. Mais quelle que soit la raison, vous devez les protéger pour maintenir l'AP.


# Exemple de mods ayant leur gameplay impacté par DMP

- Vanilla : Si vous abuse l'aide militaire lors de raids difficiles, vous pouvez mettre le couple en danger car il y a une change qu'ils seront dans les renforts.

- Factional War: Vous n'êtes plus seulement un "spectateur(bystander)" comme le dit l'auteur. Lorsque votre allié permanent est impliqué dans la guerre en dehors de votre volonie, et que votre enfant ou votre beau-fils/beau-fille se trouve dans leur armée, il vaut mieux penser à une intervention rapide.

- Dynamic Diplomacy : Il est recommandé de désactiver la simulation de bataille car le couple peut être impliqué dans une bataille lointaine vous rendant incapable de les sauver. De plus, d'autres factions NPC peuvent aléatoirement convertir votre AP à d'autres idéologies même après que votre enfant les ait convertis.

- Hospitality : Le couple peut apparaître en tant qu'invités si vous invitez votre faction AP. Cela devrait être acceptable mais NE LES RECRUTEZ PAS. C'est la même chose pour tous les mods similaires, ou même vanilla et le mode développeur, en aucun cas vous ne devez tenter de changer leur faction vous-même. Il existe un script pour détecter et corriger leur faction par la force, mais il vaut mieux ne pas s'y confier entièrement.

- VE Idéology : Certains mèmes comme la Culture de l'Artisanat (Crafting Culture) peuvent forcer un leader indésirable. Cela peut être un défi avec DMP car changer de leader idéologique autre que les parents mettra fin l'AP.

- Glitterworld Destroyer 4 et VE - Méchanoïdes : Les mechs sont incroyablement puissants dans ces mods, surtout GD4. Donc faites attention si le couple est présent dans un combat impliquant des méchs, y compris les vôtres (les tirs amis).

En ayant quelqu'un dans une autre faction dont vous devez vous inquiéter, il y a des possibilités infinies de nouveaux styles de jeu que DMP peut offrir, selon votre liste de mods.


# Mods collaborés

- Rimcities : L'AP vous donnera leur propre version de certaines quêtes Rimcities comme l'assaut et la défense de la ville. Vous pouvez leur aider à conquérir le monde. Si votre AP est ciblée par la variante spéciale de l'alliance mondiale de Dynamic Diplomacy, ils vous demanderont beaucoup plus souvent de défendre leurs grandes villes.

- A Petition For Provisions : Les demandes d'objets deviennent un privilège exclusif pour l'AP, car je trouve que le mod original est un peu trop OP. Aussi j'ai imposé un temps CD après chaque demande, en fonction de leur puissance (pourcentage des colonies mondiales). Voir l'infobulle dans l'option de config du mod pour plus d'informations.

- Dynamic Diplomacy : Une version spéciale de l'alliance globale de ce mod existe contre votre faction AP ET vous, si votre faction AP devient trop puissante, vous et votre AP devrez alors lutter contre le monde entier. Voir l'infobulle dans l'option de config pour plus d'informations. Recommandé de jouer avec MulitiRaid 联合袭击 pour plus de défi afin que la grande alliance puisse également s'unir pour vous attaquer.


# Autres mods compatibles

- SOS2 : Mon script identifie les cartes spatiales de SOS2 et empêche tous les événements inappropriés de ce mod (comme les caravanes alliées ou les séjours temporaires) de se déclencher là-bas, de sorte que vous ne verrez pas votre enfant / beau-fils ou belle-fille apparaître et mourir dans l'espace sans combinaisons EVA. Cependant, si vous utilisez d'autres mods de génération de colonistes mais qui sont pas compatibles avec SOS2, ce problème peut encore se produire. Veuillez consulter la page SOS2 pour la liste des mods compatibles.

- Rimnauts 2 : Les cartes des corps célestes (les lunes et les astéroïdes) sont également considérées comme des cartes spatiales de SOS2.

- VE Events : Toutes les chances des incidents de DMP peuvent être ajustées dans les configurations du VEE.


# Mods incompatibles

- Better Relationship Value : Ce mod cause des problèmes pour DMP car il a beaucoup de changements de relation avec des valeurs prévues, qui ne sont pas supposées être modifiées par d'autres mods.

- EdB Prepare Carefully : Ce mod est connu pour son codage destructif sur le générateur de colonistes dans la communauté des moddeurs, avec DMP il peut régénérer les costumes portés sur votre enfant / beau-fils ou belle-fille alors qu'ils sont hors des cartes des colonies, ce qui rend inutile de les équiper avec les meilleurs vêtements ou armures pour la survie future, car tous seront perdus la prochaine fois qu'ils apparaîtront.


# Exigences des DLC :

- Idéology : Requis. Le mod prend le leader de l'idéologie comme leader de votre colonie. Les idéologies doivent être activées au début du jeu. Incompatible avec le mode Classique.

- Biotech : Pas obligatoire mais recommandé pour le réservoir de croissance qui aide à élever un enfant habile beaucoup plus rapidement. Les xénogènes comme Deathless et Ageless sont également utiles pour les sauver afin d'assurer l'AP (Rappelez-vous la puissance du trait Immortalité dans CK2).
